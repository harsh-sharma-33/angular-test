<mat-card>
  <mat-card-header>
    <mat-card-title>
      Maintenance Request Form
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form
      [formGroup]="maintenanceForm"
      (ngSubmit)="onSubmit()"
      class="maint-form"
    >
      <mat-form-field>
        <mat-label>Apartment Unit #</mat-label>
        <input matInput formControlName="unitNumber" type="text" />
        <mat-error
          *ngIf="
            maintenanceForm.get('unitNumber')?.invalid &&
            maintenanceForm.get('unitNumber')?.touched
          "
        >
          Apartment Unit is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Requester Name</mat-label>
        <input matInput formControlName="name" type="text" />
        <mat-error
          *ngIf="
            maintenanceForm.get('name')?.invalid &&
            maintenanceForm.get('name')?.touched
          "
        >
          Requester Name is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Requester Email</mat-label>
        <input matInput formControlName="email" type="email" />
        <mat-error
          *ngIf="
            maintenanceForm.get('email')?.invalid &&
            maintenanceForm.get('email')?.touched
          "
        >
          Please enter a valid email.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Service Type</mat-label>
        <mat-select formControlName="serviceType">
          <mat-option
            *ngFor="let serviceType of serviceTypes"
            [value]="serviceType"
          >
            {{ serviceType }}
          </mat-option>
        </mat-select>
        <mat-error
          *ngIf="
            maintenanceForm.get('serviceType')?.invalid &&
            maintenanceForm.get('serviceType')?.touched
          "
        >
          Service Type is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Summary</mat-label>
        <input matInput formControlName="summary" type="text" />
        <mat-error
          *ngIf="
            maintenanceForm.get('summary')?.invalid &&
            maintenanceForm.get('summary')?.touched
          "
        >
          Summary is required.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Details</mat-label>
        <textarea matInput formControlName="details"></textarea>
        <mat-error
          *ngIf="
            maintenanceForm.get('details')?.invalid &&
            maintenanceForm.get('details')?.touched
          "
        >
          Details are required.
        </mat-error>
      </mat-form-field>

      <button
        mat-raised-button
        color="accent"
        [disabled]="maintenanceForm.invalid && maintenanceForm.touched"
      >
        Submit
      </button>
    </form>
  </mat-card-content>
</mat-card>
